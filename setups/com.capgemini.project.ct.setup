<?xml version="1.0" encoding="ASCII"?>
<setup:Project
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:git="http://www.eclipse.org/oomph/setup/git/1.0"
    xmlns:jdt="http://www.eclipse.org/oomph/setup/jdt/1.0"
    xmlns:maven="http://www.eclipse.org/oomph/setup/maven/1.0"
    xmlns:predicates="http://www.eclipse.org/oomph/predicates/1.0"
    xmlns:setup="http://www.eclipse.org/oomph/setup/1.0"
    xmlns:setup.p2="http://www.eclipse.org/oomph/setup/p2/1.0"
    xmlns:setup.targlets="http://www.eclipse.org/oomph/setup/targlets/1.0"
    xmlns:setup.workingsets="http://www.eclipse.org/oomph/setup/workingsets/1.0"
    xsi:schemaLocation="http://www.eclipse.org/oomph/setup/git/1.0 http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/models/Git.ecore http://www.eclipse.org/oomph/setup/jdt/1.0 http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/models/JDT.ecore http://www.eclipse.org/oomph/setup/maven/1.0 http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/models/Maven.ecore http://www.eclipse.org/oomph/predicates/1.0 http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/models/Predicates.ecore http://www.eclipse.org/oomph/setup/targlets/1.0 index:/models/SetupTarglets.ecore http://www.eclipse.org/oomph/setup/workingsets/1.0 http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/models/SetupWorkingSets.ecore"
    name="chess-tournament"
    label="Chess Tournament">
  <setupTask
      xsi:type="jdt:JRETask"
      version="${jre.location-11}"
      location="${jre.location-11}">
    <description>Define the JRE needed to compile and run the Java projects of ${scope.project.label}</description>
  </setupTask>
  <setupTask
      xsi:type="setup:CompoundTask"
      name="Global variables">
    <setupTask
        xsi:type="setup:CompoundTask"
        name="Git">
      <setupTask
          xsi:type="setup:VariableTask"
          name="git.user.id"
          defaultValue="anonymous"
          label="Eclipse Git/Gerrit user ID">
        <description>The user ID of the Eclipse Git/Gerrit account</description>
      </setupTask>
      <setupTask
          xsi:type="setup:VariableTask"
          name="git.author.name"
          label="Eclipse author name for Git/Gerrit">
        <description>The author name used for Git/Gerrit commits</description>
      </setupTask>
      <setupTask
          xsi:type="setup:VariableTask"
          name="git.author.email"
          label="Eclipse author email for Git/Gerrit">
        <description>The email address associated with Git/Gerrit commits</description>
      </setupTask>
    </setupTask>
    <setupTask
        xsi:type="setup:CompoundTask"
        name="Github">
      <setupTask
          xsi:type="setup:VariableTask"
          name="github.user.id"
          label="Github user ID">
        <description>The Github user ID</description>
      </setupTask>
      <setupTask
          xsi:type="setup:VariableTask"
          name="github.author.name"
          label="Github author name"/>
      <setupTask
          xsi:type="setup:VariableTask"
          name="github.author.email"
          label="Github author email"/>
      <setupTask
          xsi:type="setup:VariableTask"
          name="github.remoteURIs"
          label="Github repository">
        <choice
            value="git@github.com:@{remoteURI}.git"
            label="Git (read-write)"/>
        <choice
            value="https://${github.user.id}@github.com/@{remoteURI}.git"
            label="HTTPS (read-write)"/>
        <choice
            value="http://github.com/@{remoteURI}.git"
            label="HTTP (read-only, anonymous)"/>
        <description>Choose from the available Github URIs</description>
      </setupTask>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.latest.p2"
        value="http://download.eclipse.org/eclipse/updates/4.20-I-builds"
        label="Eclipse Latest I-Build p2 Repository - 4.20">
      <description>The update site of the latest Eclipse project's builds, typically an I-Build for the next release</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.latest.release.p2"
        value="http://download.eclipse.org/eclipse/updates/4.20/R-4.20-202106111600"
        label="Eclipse Latest Release p2 Repository - 4.20">
      <description>The update site of the latest released Eclipse project's builds, always an R-Build for the most recent release</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.target.platform"
        defaultValue="2021-06"
        storageURI="scope://Workspace"
        label="Target Platform">
      <annotation
          source="http://www.eclipse.org/oomph/setup/GlobalVariable"/>
      <choice
          value="2021-06"
          label="Eclipse 2021-06 - 4.20"/>
      <choice
          value="None"
          label="None"/>
      <description>Choose the compatibility level of the target platform</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.target.platform.latest"
        value="2021-06"
        storageURI="scope://Workspace"
        label="Target Platform Latest">
      <annotation
          source="http://www.eclipse.org/oomph/setup/GlobalVariable"/>
      <description>The latest available compatibility level of the target platform. It may be the released stream but more likely the stream working toward the next release of the platform. This may be used to initialize the value of the eclipse.target.platform variable.</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.target.platform.latest.released"
        value="2021-06"
        storageURI="scope://Workspace"
        label="Target Platform Latest Released">
      <annotation
          source="http://www.eclipse.org/oomph/setup/GlobalVariable"/>
      <description>The latest available released compatibility level of the target platform. It will be updated to reference the most recently released stream of the platform. This may be used to initialize the value of the eclipse.target.platform variable.</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.api.baseline.target.platform"
        value="None"
        storageURI="scope://Workspace"
        label="API Baseline Target Platform">
      <annotation
          source="http://www.eclipse.org/oomph/setup/GlobalVariable"/>
      <choice
          value="2021-06"
          label="Eclipse 2021-06 - 4.20"/>
      <choice
          value="None"
          label="None"/>
      <description>Choose the compatibility level of the target platform for the modular API baseline</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="eclipse.api.baseline.target.platform.latest.released"
        value="2021-06"
        storageURI="scope://Workspace"
        label="Target Platform Latest Released">
      <annotation
          source="http://www.eclipse.org/oomph/setup/GlobalVariable"/>
      <description>The compatibility level of the target platform for the modular API baseline for the most recent released version of the platform.  It will be updated to reference the most recently released stream of the platform. This may be used to initialize the value of the eclipse.api.baseline.target.platform variable.</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="workspace.location"
        value="${installation.location/workspace}"/>
    <setupTask
        xsi:type="setup:VariableTask"
        name="git.checkout.branch"
        value="${scope.project.stream.name}"/>
    <setupTask
        xsi:type="setup:VariableTask"
        name="git.clone.chesstournament.all.location"
        value="${git.container.root/}${installation.id}"
        label="Project source location">
      <description>Project source location</description>
    </setupTask>
    <setupTask
        xsi:type="setup:VariableTask"
        name="git.location.root"
        value="C:\sources"
        label="Git sources"/>
  </setupTask>
  <setupTask
      xsi:type="setup:CompoundTask"
      name="Eclipse.ini">
    <setupTask
        xsi:type="setup:EclipseIniTask"
        option="-Xms"
        value="1024m"
        vm="true">
      <description>Set the heap space needed to work with the projects of ${scope.project.label}</description>
    </setupTask>
    <setupTask
        xsi:type="setup:EclipseIniTask"
        option="-Xmx"
        value="2048m"
        vm="true">
      <description>Set the max heap space with the projects of ${scope.project.label}</description>
    </setupTask>
    <setupTask
        xsi:type="setup:EclipseIniTask"
        option="-Dfile.encoding"
        value="UTF-8"
        vm="true"/>
    <setupTask
        xsi:type="setup:EclipseIniTask"
        option="-Dosgi.bundlefile.limit"
        value="200"
        vm="true"/>
  </setupTask>
  <setupTask
      xsi:type="setup:CompoundTask"
      name="Compiler Preferences">
    <setupTask
        xsi:type="setup:PreferenceTask"
        key="instance/org.eclipse.jdt.launching/org.eclipse.jdt.launching.PREF_STRICTLY_COMPATIBLE_JRE_NOT_AVAILABLE"
        value="ignore"/>
    <setupTask
        xsi:type="setup:PreferenceTask"
        key="instance/org.eclipse.pde/compilers.f.unresolved-features"
        value="2"/>
    <setupTask
        xsi:type="setup:CompoundTask"
        name="org.eclipse.pde.api.tools">
      <setupTask
          xsi:type="setup:PreferenceTask"
          key="/instance/org.eclipse.pde.api.tools/missing_default_api_profile"
          value="Ignore"/>
    </setupTask>
  </setupTask>
  <setupTask
      xsi:type="setup:TextModifyTask"
      url="configuration:/config.ini">
    <modification
        pattern="osgi\.instance\.area\.default=(@user\.home/workspace)">
      <substitution>${workspace.location|path}</substitution>
    </modification>
  </setupTask>
  <setupTask
      xsi:type="setup.p2:P2Task"
      label="Code Quality Tools">
    <requirement
        name="com.github.spotbugs.plugin.eclipse.feature.group"
        versionRange="[4.4.0,5.0.0)"/>
    <requirement
        name="net.sf.eclipsecs.feature.group"
        versionRange="[8.44.0,9.0.0)"/>
    <requirement
        name="net.sourceforge.pmd.eclipse.feature.group"
        versionRange="[4.27.0,5.0.0)"/>
    <requirement
        name="org.eclipse.eclemma.feature.feature.group"
        versionRange="[3.1.0,4.0.0)"/>
    <repository
        url="http://update.eclemma.org"/>
    <repository
        url="https://checkstyle.org/eclipse-cs-update-site"/>
    <repository
        url="https://spotbugs.github.io/eclipse"/>
    <repository
        url="https://pmd.github.io/pmd-eclipse-plugin-p2-site"/>
  </setupTask>
  <setupTask
      xsi:type="setup.targlets:TargletTask">
    <targlet
        name="Eclipse Platform"
        activeRepositoryList="${eclipse.target.platform}">
      <repositoryList
          name="None"/>
      <repositoryList
          name="2021-06">
        <repository
            url="http://download.eclipse.org/eclipse/updates/4.20/R-4.20-202106111600"/>
      </repositoryList>
    </targlet>
  </setupTask>
  <setupTask
      xsi:type="setup:ResourceCreationTask"
      targetURL="configuration:/.settings/org.eclipse.ui.ide.prefs">
    <content>
      MAX_RECENT_WORKSPACES=5
      RECENT_WORKSPACES=${workspace.location|property}
      RECENT_WORKSPACES_PROTOCOL=3
      SHOW_WORKSPACE_SELECTION_DIALOG=true
      eclipse.preferences.version=1
    </content>
  </setupTask>
  <setupTask
      xsi:type="setup:ResourceCreationTask"
      excludedTriggers="STARTUP MANUAL"
      targetURL="${workspace.location|uri}/.metadata/.plugins/org.eclipse.jdt.ui/dialog_settings.xml"
      encoding="UTF-8">
    <description>Initialize JDT's package explorer to show working sets as its root objects</description>
    <content>
      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>
      &lt;section name=&quot;Workbench&quot;>
      	&lt;section name=&quot;org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart&quot;>
      		&lt;item value=&quot;true&quot; key=&quot;group_libraries&quot;/>
      		&lt;item value=&quot;false&quot; key=&quot;linkWithEditor&quot;/>
      		&lt;item value=&quot;2&quot; key=&quot;layout&quot;/>
      		&lt;item value=&quot;2&quot; key=&quot;rootMode&quot;/>
      		&lt;item value=&quot;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;packageExplorer configured=&amp;quot;true&amp;quot; group_libraries=&amp;quot;1&amp;quot; layout=&amp;quot;2&amp;quot; linkWithEditor=&amp;quot;0&amp;quot; rootMode=&amp;quot;2&amp;quot; sortWorkingSets=&amp;quot;false&amp;quot; workingSetName=&amp;quot;&amp;quot;&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;localWorkingSetManager&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;workingSet editPageId=&amp;quot;org.eclipse.jdt.internal.ui.OthersWorkingSet&amp;quot; factoryID=&amp;quot;org.eclipse.ui.internal.WorkingSetFactory&amp;quot; id=&amp;quot;1382792884467_1&amp;quot; label=&amp;quot;Other Projects&amp;quot; name=&amp;quot;Other Projects&amp;quot;/&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;/localWorkingSetManager&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;activeWorkingSet workingSetName=&amp;quot;Other Projects&amp;quot;/&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;allWorkingSets workingSetName=&amp;quot;Other Projects&amp;quot;/&amp;gt;&amp;#x0D;&amp;#x0A;&amp;lt;/packageExplorer&amp;gt;&quot; key=&quot;memento&quot;/>
      	&lt;/section>
      &lt;/section>

    </content>
  </setupTask>
  <setupTask
      xsi:type="setup.workingsets:WorkingSetTask">
    <workingSet
        name="${scope.project.label}">
      <predicate
          xsi:type="predicates:AndPredicate">
        <operand
            xsi:type="predicates:RepositoryPredicate"
            project="eclipse-project"/>
      </predicate>
    </workingSet>
    <description>The dynamic working sets for ${scope.project.label}</description>
  </setupTask>
  <setupTask
      xsi:type="git:GitCloneTask"
      id="git.clone.chesstournament.all"
      location="${git.container.root}"
      remoteURI="https://github.com/h_olivaw/chess-tournament-all.git"
      pushURI="">
    <description>Chess Tournament</description>
  </setupTask>
  <setupTask
      xsi:type="git:GitCloneTask"
      id="git.clone.chesstournament.serverboot"
      location="${git.container.root}"
      remoteURI="https://github.com/h_olivaw/chess-tournament-server-boot.git">
    <description>Chess Tournament</description>
  </setupTask>
  <setupTask
      xsi:type="maven:MavenImportTask">
    <sourceLocator
        rootFolder="${git.clone.chesstournament.all.location}"
        locateNestedProjects="true"/>
  </setupTask>
  <stream name="master"
      label="master">
    <setupTask
        xsi:type="jdt:JRETask"
        version="JavaSE-11"
        location="${jre.location-11}"
        name="JRE for JavaSE-11"/>
  </stream>
  <setupTask
      xsi:type="setup:EclipseIniTask"
      option="-Doomph.redirection.eclipse.project"
      value="=https://git.eclipse.org/c/holivaw/eclipse-project.git/plain//EclipseProject.setup->${git.clone.eclipse.project.location|uri}//EclipseProject.setup"
      vm="true">
    <description>Set an Oomph redirection system property to redirect the logical location of this setup to its physical location in the Git clone.</description>
  </setupTask>
  <logicalProjectContainer
      xsi:type="setup:ProjectCatalog"
      href="index:/org.eclipse.setup#//@projectCatalogs[name='com.capgemini']"/>
  <description>Workbench and workspace configuration for Chess Tournament</description>
</setup:Project>
